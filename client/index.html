<html lang="en">
	<head>
		<title>Mjolnir Simulator</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link rel="stylesheet" href="css/index.css">
	</head>
	<body>

	<div id="info">Press mouse to throw hammer</div>
	<div class="level-link-container">
		<a class="level-link" href="#"  data-level="0">0</a>
		<a class="level-link" href="#" data-level="1">1</a>
	</div>
	<div class="score-board">
		Points:<span>0</span>
	</div>
	<div id="container"><br /><br /><br /><br /><br />Loading...</div>

	<!--libs -->
	<script src="js/lib/three.js"></script>
	<script src="js/lib/ammo.js"></script>
	<script src="js/lib/OrbitControls.js"></script>
	<script src="js/lib/Detector.js"></script>
	<script src="js/lib/stats.min.js"></script>
	<script src="js/lib/ConvexObjectBreaker.js"></script>
	<script src="js/lib/QuickHull.js"></script>
	<script src="js/lib/ConvexGeometry.js"></script>
	<script src="js/lib/STLLoader.js"></script>

	<!--src -->
	<script src="js/src/gameObject.js"></script>
	<script src="js/src/handleInput.js"></script>
	<script src="js/src/wsClient.js"></script>
	<script src="js/src/index.js"></script>

	<video autoplay id="vid" style="display:none;" height="720" width="1280"></video>

        <div>
            <canvas id="canvas" width="320" height="240" style="display:none;"></canvas>
            <canvas id="canvas2" width="320" height="240" style="display:none;"></canvas>
		</div>

		<script src="js/webcamMotion.js" type="text/javascript"></script>
		<script>

			var webcamConfig = { video: "#vid", canvas1: "#canvas", canvas2: "#canvas2", fps: 30 };
			console.log('ready');
			var webcamMotion = new WebCamMotion(webcamConfig, function (x, y) {
				console.log({ x: x, y: y });
				var velocity = 35 // TODO: Temporary value for testing

    var inputValues = {
        x: x*6,
        y: y*4.5,
        velocity: velocity
    };

    var event = new CustomEvent('generateHammer', { detail: {inputValues: inputValues} });
    window.dispatchEvent(event);
			});


		</script>
	</body>
</html>
